!function(t,i,e,a){"use strict";return t.Osvaldas||(t.Osvaldas={}),t.Osvaldas.imageLightbox=function(i,e){this.el=i,this.$el=t(i),this._name="imageLightbox",this.options=t.extend({},t.Osvaldas.imageLightbox.options,e),this.init()},t.Osvaldas.imageLightbox.options={selector:"a[data-imagelightbox]",id:"imagelightbox",allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,activity:!1,arrows:!1,button:!1,caption:!1,enableKeyboard:!0,lockBody:!1,navigation:!1,overlay:!1,preloadNext:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0,quitOnEscKey:!0},t.extend(t.Osvaldas.imageLightbox.prototype,{init:function(){this._addTargets(),this._buildCache()},_buildCache:function(){this.targetSet="",this.targets=t([]),this.target=t(),this.image=t(),this.imageWidth=0,this.imageHeight=0,this.swipeDiff=0,this.$activityObject=t("<div/>").attr("id","imagelightbox-loading").append(t("<div/>")),this.$arrowLeftObject=t("<button/>",{type:"button",class:"imagelightbox-arrow imagelightbox-arrow-left"}),this.$arrowRightObject=t("<button/>",{type:"button",class:"imagelightbox-arrow imagelightbox-arrow-right"}),this.$arrows=this.$arrowLeftObject.add(this.$arrowRightObject),this.$captionObject=t("<div/>",{id:"imagelightbox-caption",html:"&nbsp;"}),this.$buttonObject=t("<a/>",{id:"imagelightbox-close"}),this.$overlayObject=t("<div/>",{id:"imagelightbox-overlay"}),this.$navItem=t("<a/>",{href:"#",class:"imagelightbox-navitem"}),this.$navObject=t("<div/>",{id:"imagelightbox-nav"}),this.$wrapper=t("<div/>",{id:"imagelightbox-wrapper"})},_openImageLightbox:function(i){this.target=i,t("body").append(this.$wrapper),this.lockBody&&t("body").addClass("imagelightbox-scroll-lock"),this.$wrapper.trigger("start.ilb2"),this._loadImage(0)},_buildLightbox:function(){},_setImage:function(e){var a=this.imageWidth,n=this.imageHeight,o=this.$captionObject.outerHeight(),h=.8*t(i).width(),s=(i.innerHeight?i.innerHeight:t(i).height())-o,g=.9*s,r=new Image;r.src=e.attr("src"),r.onload=function(){if(a=r.width,n=r.height,a>h||n>g){var o=a/n>h/g?a/h:n/g;a/=o,n/=o}e.css({width:a+"px",height:n+"px",top:(s-n)/2+"px",left:(t(i).width()-a)/2+"px"})}},_loadImage:function(i){var e=this,a=this.options,n=this.image;setTimeout(function(){var i=e.target.attr("href");n=t('<img id="'+a.id+'" />').attr("src",i).on("load.ilb7",function(){t(n).appendTo(e.$wrapper),e._setImage(n)})},a.animationSpeed+100)},_quitImageLightbox:function(){this.unbindEvents(),this.$element.removeData()},_isTargetValid:function(t){return!0},_addTargets:function(){function i(i,a){e.filter(function(){return t(this).data("imagelightbox")===a.targetSet}).filter(function(){return i(t(this))}).each(function(){a.targets=a.targets.add(t(this))})}var e=this.$el,a=this;e.on("click."+a._name,function(e){e.preventDefault(),a.targetSet=t(e.currentTarget).data("imagelightbox"),i(a._isTargetValid,a),a.targets.length<1?a._quitImageLightbox():a._openImageLightbox(t(this))})},_bindEvents:function(){var a=this,n=this.options,o=this.image,h="ontouchstart"in i;n.quitOnDocClick&&t(e).on(h?"touchend."+a._name:"click."+a._name,function(i){o.length&&!t(i.target).is(o)&&(i.preventDefault(),this._quitImageLightbox())}),n.lockBody&&t(e).on("keydown."+a._name,function(t){[9,32,38,40].indexOf(t.which)>-1&&t.preventDefault()}),n.enableKeyboard&&t(e).on("keyup.ilb7",function(t){t.preventDefault(),[27].indexOf(t.which)>-1&&n.quitOnEscKey&&this._quitImageLightbox(),[37].indexOf(t.which)>-1?this._previousTarget():[39].indexOf(t.which)>-1&&this._nextTarget()})},_unbindEvents:function(){this.$element.off("."+this._name)}}),t.extend(t.Osvaldas.imageLightbox.prototype,{loadPreviousImage:function(){},loadNextImage:function(){},quitImageLightbox:function(){},startImageLightbox:function(){}}),t.fn.imageLightbox=function(i){return new t.Osvaldas.imageLightbox(this,i)},t.Osvaldas}(jQuery,window,document);